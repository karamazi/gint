<!DOCTYPE HTML>
<html>
<head>
	<title>Konwersja</title>
	<style>
		body {
			margin: 0;
			padding: 0;
			background-color: #000000;
		}
        #options {
            position: absolute;
            top: 250px;
            left: 10px;
            width: 100px;
        }
	</style>
	<script src="../pixi.js"></script>
	<script src="../pixi_ext.js"></script>
    <script src="turing.js"></script>
</head>
<body>
    <div id="inputs"/></div>
    <select id="options">
        <option value="Blinker">Blinker</option>
        <option value="Frog">Frog</option>
        <option value="Croc">Croc</option>
        <option value="Block">Block</option>
        <option value="Boat">Boat</option>
        <option value="Crystal">Crystal</option>
    </select>
	<script>
        //create state inputs
        var inputX=20;
        var inputY = 300;
        var inputDx = 100;
        var inputDy = 35;
        var inputWidth = 80;
        var inColumnMax = 5;

        var inputCount = 20;
        var divInputs = document.getElementById("inputs");
        var col = 0, row = 0;
        for (var i = 0; i < inputCount; i++) {
            
            if ((row+1) % inColumnMax == 0) {
                col++;
                row = 0;
            }
            var newInput = document.createElement("input");
            newInput.className = "command";
            newInput.style.position = "absolute";
            newInput.style.left = inputX + col * inputDx + "px";
            newInput.style.top = inputY + row * inputDy + "px";
            newInput.style.width = inputWidth + "px";
            divInputs.appendChild(newInput);
            row++;
        }


	    // create an new instance of a pixi stage
	    var stage = new PIXI.Stage(0x223344);
	    var renderer = PIXI.autoDetectRenderer(640, 480);
	    document.body.appendChild(renderer.view);
	    requestAnimFrame(animate);

	    var background = new PIXI.Sprite(textureBackground);
	    stage.addChild(background);
	    // load everything below:
	    var tapeSize = 11;
	    var tapeX = 40;
	    var tapeY = 100;
	    var tapeDx = 55;

	    var tape = [];
	    for (var i = 0; i < tapeSize; i++) {
	        var cell = new Cell(stage, tapeX + tapeDx*i, tapeY, 1);
	        tape.push(cell);
	    }
	    var head = new Head(stage, 40, 50, "A");
	    head.dx = tapeDx;


        //help
	    var helpButton = new Button(stage, 560, 450, "Pomoc");
	    helpButton.sprite.isOver = false;
	    var help = new PIXI.Sprite(textureHelp);
	    stage.addChild(help);

	    function animate() {
	        requestAnimFrame( animate );

	        // loop everything here:
	    
	        helpButton.update();
	        help.visible = helpButton.sprite.isOver;
	        // render the stage
	        renderer.render(stage);
	    }

	</script>

	</body>
</html>
